<!DOCTYPE html>
<html>
<head>
<script src="blockly_compressed.js"></script>
<script src="blocks_compressed.js"></script>
<script src="javascript_compressed.js"></script>
<script src="msg/js/en.js"></script>
<script src="blocks/tpblock.js"></script>
<script src="generators/javascript/tpblock.js"></script>
<!-- <script src="../closure-library/closure/goog/base.js"></script> -->

 <meta charset="utf-8">
<title>Blockly Testing</title>
<style type="text/css">
#blocklyDiv {
  height: 960px;
}
</style>
</head>
<body>
  <button id="gen">Generate</button>
 <div id="blocklyDiv" ></div>
  <script>
    var gen = document.getElementById('gen');
    var blocklyDiv = document.getElementById('blocklyDiv');
    var workspace = Blockly.inject(blocklyDiv
        // {toolbox: document.getElementById('toolbox')}
        );
    window.addEventListener('resize', onresize, true);
    Blockly.svgResize(workspace); 

    var xmlInit = '<xml><block type="extractor" deletable="false" id="D-i{Q5j{]PJ!5f.@f^S^" x="195" y="107"><value name="line"><block type="field_extractor" id="-UBE=0AF-5wVL6~}%=aX"><field name="delim"></field><field name="get"></field><field name="operation">string</field><field name="VAR">i</field></block></value><next><block type="transform" deletable="false" id="`#{siG=4Z=W{9fzG7~Xj"><next><block type="store"  deletable="false" id="x6tnR`YVMw61kvdnf}`B"><field name="operation">hdfs</field><field name="path"></field><field name="headers">TRUE</field></block></next></block></next></block></xml>';

                 var xmlDom = Blockly.Xml.textToDom(xmlInit);
                Blockly.Xml.domToWorkspace(Blockly.mainWorkspace, xmlDom);

    gen.addEventListener('click', function() {
      Blockly.JavaScript.workspaceToCode(Blockly.getMainWorkspace());
    });
  </script>
</body>
</html>
